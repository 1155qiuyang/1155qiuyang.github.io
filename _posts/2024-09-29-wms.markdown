---
layout:       post
title:        "wms常见的问题"
author:       "史密斯"
header-style: text
catalog:      true
tags:
    - C#
    - Bank-end
---

有S型，U形，Z形 通道

捡货优先级

有先进先出，后进先出，中间先出


上架优先级+捡货优先级顺序需要一样

常用的是S+Z形
变量：优先级number

start ------------------------------->

            [ a1,  a2 ,  a3,  a4,  a5] |
              1    3     5     7   9
              X    X     X     X   X
              2    4     6     8   10
       ---->[ b5,  b4,   b3,  b2,  b1] |
              11   14    15   17   19
              X    X     X    X    X
              12   13    16   18   20
       ---->[ c1,  c2,   c3,  c4,  c5] |
              21   23    25   27   29
              X    X     X    X    X
              22   24    26   28   30
       ---->[ d5,  d4,   d3,  d2,  d1] |
       
   end <--------------------------------


   
库存逻辑：库存表、库存流水表、批次库存流水表



库存表

库存查询
------

SKU|----------|仓库|-----------|实际库存|-----------|可用库存|----------|锁定库存|-------------|在途库存|------

---------------------------------------------------------------------------------------------------------

|A001|-------|深圳仓库|------------|15|-----------------|15|-------------|0|----------------------|100|-----------

---------------------------------------------------------------------------------------------------------

|A001|-------|广州仓库|------------|20|-----------------|19|-------------|1|----------------------|50|-----------

备注：  实际库存-->当前仓库中实际的库存数，商品出入库或盘点后，自动减少或增加实际库存


       可用库存--> 实际库存 （-）锁定库存

       锁定库存--> 订单占用的商品库存会被锁定，其他出库预约单、采购退货单、调拨单（调出仓）也会锁定对应的库存

       在途库存--->采购订单、调拨单（调入仓）计入对应仓库的在途数量








库存锁定明细表
-----------


|SKU||仓库||锁定数量||业务类型||业务单据||锁定时间|
|---||---||:---:|
|A001||广州仓库||15||出库||XSD001||2023-09-21 13:20:01|






库存流水

|SKU||仓库||数量||剩余数量||业务类型||作业单据||业务单据||时间|
|:---||---:||:---:||:---:||:---:||:---:||:---:||:---:|
|A001||深圳仓库||-15||15||出库||CKD001||XSD001||2022-09-22 15:00:00|
|A001||深圳仓库||+20||30||入库||RKD002||CGD002||2022-09-22 11:00:00|
|A001||深圳仓库||+10||10||入库||RKD001||CGD001||2022-09-22 08:00:00|




批次库存流水
|SKU||批次||仓库||数量||剩余数量||业务类型||作业单据||业务单据||时间|
|:---||---:||:---:||:---:||:---:||:---:||:---:||:---:||:---:|
|A001||LT20220922002||深圳仓库||-05||15||出库||CKD001||XSD001||2022-09-22 15:00:00|
|A001||LT20220922001||深圳仓库||-10||00||出库||CKD001||XSD001||2022-09-22 14:30:00|
|A001||LT20220922002||深圳仓库||+20||30||入库||RKD002||CGD002||2022-09-22 11:00:00|
|A001||LT20220922001||深圳仓库||+10||10||入库||RKD001||CGD001||2022-09-22 08:00:00|






批次库存锁定明细表
|SKU||批次||仓库||锁定数量||业务类型||业务单据||锁定时间|
|A001||LT20220922002||广州仓库||15||出库||XSD001||2023-09-21 13:20:01|
|A001||LT20220922001||广州仓库||5||出库||XSD001||2023-09-21 13:20:01|



  

#备注  
：
 SKU库存总表---->[1男生1000人]
          ----->[2女生900人] 

          

SKU库位库存表----->[101教室90人]---->[男生50，女生40]
           ----->[202教室80人]---->[男生40,女生40]
           .........


SKU批次库存表----->[男生1000人]----->[大一400，大二200，大三300，大四100]
           ----->[女生1000人]----->[大一400,大二200，大三200，大四200]



SN库存表------->[20220913002]--->[男生]---->[大一]---->[状态:在校/准毕业/已毕业]
   ------->[20220913001]--->[女生]---->[大二]---->[状态:在校/准毕业/已毕业]
   ------->[20220913005]--->[男生]---->[大四]---->[状态:在校/准毕业/已毕业]
   ....

       
                                                                                [收货暂存库位，减少库存]
                    222222                                                               |
境内仓（引入暂存库位）                                                                       ｜
                                                                                    [取消/作废收货] 
                                                                                          ｜
                                                                                          ｜ 
[OMS创建入库单]------>[提交到WMS]----推送-->[WMS接收入库单]----开始收货------>[WMS收获完成]--------------开始上架------------------->[WMS上架完成]
                ｜                                                           ｜                                                  ｜
                ｜                                                           ｜                                                  ｜
            [ 生成库存 ]                                            [收获暂存库位，增加库存 ]                                [收货暂存库位减少,挑选/存储库位增加]
                |                                                            ｜                                                  ｜
                |                                                            ｜                                                  ｜
            [OMS层库存]                                                 [WMS仓库库存增加]                                   [OMS在途库存减少,WMS仓库库存增加]








境外仓（入库）


[OMS创建入库单]------>[提交到WMS]----推送-->[WMS接收入库单]----开始收货------>[WMS收获完成]--------------开始上架------------------->[WMS上架完成]
                ｜                                                                                                               ｜
                ｜                                                                                                               ｜
            [ 生成库存 ]                                                                                            [收货暂存库位减少,挑选/存储库位增加]
                |                                                                                                                ｜
                |                                                                                                                ｜
            [OMS层库存]                                                                                             [OMS在途库存减少,WMS仓库库存增加]










  
